---
layout: default
title: Otevřená data snadno a rychle
ref: ODSnadnoARychle
lang: cs
---

<div class="container">
	<h1>{{ page.title }}</h1>

	<p>
		Zde naleznete co nejstručnější návod na publikaci dat jako otevřená data.
		Postup si ukážeme na jednorázové publikaci tabulkových dat a na konci shrneme, jak postupovat dál směrem k sytematičtějšímu řešení.
	</p>

	<p>
		Začneme tedy s typickou tabulkou v Excelu, a skončíme se správně publikovanými tabulkovými otevřenými daty.
	</p>

	<hr/>

	<div class="row" id="začínáme-s-excelem">
		
		<div class="col-12 col-md-12 col-lg-4 section">
			<h2>1. Začínáme s Excelovským souborem</h2>
			<p>
				Typickým zdrojem otevřených dat je Excelovský soubor.
				Ten sám o sobě může obsahovat spoustu problémů, kterým se souhrnně říká "<a href="příklady/barevný.xlsx">Barevný Excel</a>".
				Ty však nesouvisejí s otevřenými daty.
			</p>
			<p>
				Předpokládáme tedy, že máme takzvaný &quot;<a href="příklady/slušný.xlsx">slušný Excel</a>&quot;, tedy 1 list, na kterém je tabulka která není formátovaná, začíná v buňce A1, na prvním řádku má názvy sloupců a obsah splňuje alespoň <a href="https://cs.wikipedia.org/wiki/Normalizace_databáze#První_normální_forma_(1NF)" title="1NF">první normální formu</a>.
			</p>

		</div>
		
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>Barevný Excel</h2>
			<p>
				Takto by to vypadat nemělo.
				<img src="obrázky/barevný-excel.png" class="img-fluid" alt="Barevný Excel"/>
			</p>
		</div>
	 
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>Slušný Excel</h2>
			<p>
				Takhle je to lepší.
				<img src="obrázky/slušný-excel.png" class="img-fluid" alt="Barevný Excel"/>
			</p>
		</div>

	</div>

	<hr/>

	<div class="row" id="vyrábíme-csv">
		
		<div class="col-12 col-md-12 col-lg-4 section">
			<h2>2. Vyrábíme CSV</h2>
			<p>
				Formátem pro otevřená tabulková data je <a href="https://opendata.gov.cz/standardy:csv" title="csv">formát CSV</a>.
				Tabulku z Excelu tedy musíme do tohoto formátu převést.
				Přitom je třeba dát pozor na <a href="https://opendata.gov.cz/špatná-praxe:start#nejčastější_chyby_při_použití_formátu_csv" title="Špatná praxe v CSV">typické chyby</a>, které se při tvorbě CSV souborů vyskytují.
			</p>
		</div>
		
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>Špatné CSV</h2>
			<p>
				Takto by to vypadat nemělo.
				Špatný oddělovač, špatné kódování, <a href="příklady/špatné.csv" title="špatné CSV">špatné CSV</a>.
				<img src="obrázky/špatné-csv.png" class="img-fluid" alt="Špatné CSV"/>
			</p>
		</div>
	 
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>Správné CSV</h2>
			<p>
				Takhle je to lepší. <a href="příklady/správné.csv" title="správné CSV">Správné CSV</a>. <a href="http://csvlint.io/" title="CSV Lint">Zvalidujte si ho</a>.
				<img src="obrázky/správné-csv.png" class="img-fluid" alt="Špatné CSV"/>
				Další příklady:
				<ul>
					<li><a href="https://data.cssz.cz/dump/doba-rizeni-o-namitkach.csv" title="ČSSZ">Příklad 1</a></li>
					<li><a href="http://www.mdcr.cz/MDCR/media/otevrenadata/faktury/2016/faktury_cendis_2016.csv" title="CENDIS">Příklad 2</a></li>
				</ul>
			</p>
		</div>

	</div>

	<hr/>

	<div class="row">
		
		<div class="col-12 col-md-12 col-lg-4 section">
			<h2>3. CSV vystavujeme na web</h2>
			<p>
				Aby se k CSV souboru někdo dostal, je třeba ho umístit na web.
				To znamená někam, kde bude mít své stabilní URL.
				Pak ověříme, že jsme se nedopustili nějaké z rozšířených <a href="https://opendata.gov.cz/špatná-praxe:start#přístup_k_otevřeným_datůmtechnické_překážky" title="Chyby s HTTP">chyb ve zpřístupnění souboru na webu</a>.
			</p>
		</div>
		
		<div class="col-12 col-md-4 col-lg-4 section">
			<h2>Časté chyby</h2>
			<ul>
				<li><a href="https://opendata.gov.cz/špatná-praxe:http" title="HTTP">HTTP místo HTTPS</a></li>
				<li><a href="https://opendata.gov.cz/špatná-praxe:https" title="Chybné HTTPS">Chybně nastavené HTTPS</a></li>
				<li><a href="https://opendata.gov.cz/špatná-praxe:komprese" title="Komprese">Chybějící komprese</a></li>
				<li><a href="https://opendata.gov.cz/špatná-praxe:http-content-type" title="HTTP hlavičky">Špatné HTTP hlavičky</a></li>
			</ul>
		</div>
	 
		<div class="col-12 col-md-4 col-lg-4 section">
			<h2>Správný příklad</h2>
			<ul>
				<li><a href="https://mvcr1.opendata.cz/czechpoint/2009.csv" title="CzechPoint">CSV přístupné přes HTTPS, se správnými HTTP hlavičkami a kompresí</a></li>
			</ul>
		</div>

	</div>
	
	<hr/>

	<div class="row">
		
		<div class="col-12 col-md-12 col-lg-4 section">
			<h2>4. Soubor opatříme schématem</h2>
			<p>
				K CSV souboru patří strojově čitelné schéma, které definuje datové typy sloupců, případně poskytuje lepší popis sloupců než-li jejich název.
				Pro CSV soubor tedy <a href="https://opendata.gov.cz/standardy:technicke-standardy-pro-vytvareni-datovych-schemat-na-stupni-3#definice_vlastního_schématu_pro_data_v_csv">vytvoříme schéma dle standardu CSV on the Web</a> ve formě JSON-LD deskriptoru.
				Pak ho spolu s CSV souborem vystavíme na web.
			</p>
		</div>
		
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>Příklady bez schématu</h2>
			<p>
				<ul>
					<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/http---opendata.praha.eu-api-3-action-package_show-id-adopce-zvirat" title="Praha">CSV bez schématu</a></li>
					<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/http---data.mmr.cz-api-3-action-package_show-id-prehled-faktur-crr-z-roku-2016" title="MMR">CSV bez schématu, špatný formát data</a></li>
					<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/98766" title="ČOI">CSV bez schématu, chybný oddělovač</a></li>
				</ul>
			</p>
		</div>
	 
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>Příklady se schématem</h2>
			<p>
				<ul>
					<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/http---vdb.czso.cz-pll-eweb-package_show-id-200068" title="ČSÚ">CSV se schématem</a></li>
					<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/247025692">CSV se schématem</a></li>
				</ul>
			</p>
		</div>

	</div>

	<hr/>

	<div class="row">
		
		<div class="col-12 col-md-12 col-lg-4 section">
			<h2>5. Specifikujeme metadata</h2>
			<p>
				<a href="https://opendata.gov.cz/cinnost:priprava-katalogizacniho-zaznamu">Připravíme si metadatový záznam</a> o datové sadě.
				Měl by být co nejúplnější.
				Zejména by měl odkazovat na webovou stránku s dokumentací datové sady.
				Ta by měla být v HTML (jsme na Webu), nikoliv PDF či Word.
			</p>
		</div>
		
		<div class="col-12 col-md-4 col-lg-4 section">
			<h2>Příklady nedostatečného popisu</h2>
			<ul>
				<li><a href="https://data.gov.cz/datov%C3%A1-sada?iri=https%3A%2F%2Fdata.gov.cz%2Fzdroj%2Fdatov%C3%A1-sada%2Fhttps---opendata.plzen.eu-api-3-action-package_show-id-gis-rastrovy-podklad-uzemni-plan-plzen-1-zakladni-vykres" title="Plzeň">Chybí podmínky užití, témata, distribuce vedou na HTML stránku.</a></li>
				<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/http---opendata.mzp.cz-api-3-action-package_show-id-faktury-cenia" title="Cenia">Chybí podmínky užití, popis, kontaktní bod i časové pokrytí.</a>
			</ul>
		</div>
	 
		<div class="col-12 col-md-4 col-lg-4 section">
			<h2>Příklady plného popisu</h2>
			<ul>
				<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/https---data.cssz.cz-api-3-action-package_show-id-duchodci-v-cr-krajich-okresech" title="ČSSZ">Příklad s HTML dokumentací, tématy a kontaktním bodem</a></li>
				<li><a href="https://data.gov.cz/datová-sada?iri=https://data.gov.cz/zdroj/datová-sada/http---vdb.czso.cz-pll-eweb-package_show-id-170242" title="ČSÚ">Příklad s HTML dokumentací, časovým pokrytím a kontaktním bodem</a></li>
			</ul>
		</div>

	</div>

	<hr/>

	<div class="row">
		
		<div class="col-12 col-md-6 col-lg-8 section">
			<h2>6. Zaregistrujeme v NKOD</h2>
			<p>
				Nejjednodušší možností je vyplnit formulář a výslednou zprávu zaslat datovou schránkou do NKOD.
				Nevyplňujeme jen povinné položky, snažíme se pečlivě vyplnit co nejvíce informací.
				Ty pak pomůžou uživatelům data najít a pochopit.
			</p>
		</div>
		
		<div class="col-12 col-md-6 col-lg-4 section">
			<h2>NKOD nefunguje</h2>
			<p>
				Nyní bohužel datovou sadu do NKOD nezaregistrujete.
				Ledaže byste již měli registrován svůj lokální katalog.
				Pak datovou sadu zaregistrujte tam.
			</p>
		</div>
	 
	</div>

</div>